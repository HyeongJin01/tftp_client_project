# tftp_client_project
네트워크프로그래밍 기발과제 프로젝트


1. 프로그램 개요
이 프로그램은 TFTP 클라이언트를 구현하는 프로그램입니다. TFTP는 간단한 파일 전송 프로토콜로, 주로 네트워크 장비나 디바이스에서 파일을 다운로드(get)하거나 업로드(put)하는 데 사용됩니다. 이 프로그램은 UDP 프로토콜을 기반으로 동작하며, TFTP 주요기능인 파일 다운로드(get) 및 파일 업로드(put)를 지원합니다. 또한, UDP 소켓을 통해 서버와 통신하며, TFTP 프로토콜을 기반으로 파일을 효율적으로 송수신합니다. 사용자는 다운로드(get) 또는 업로드(put)명령을 사용하여 서버와 파일을 주고받을 수 있으며, 데이터 전송 중 발생할 수 있는 오류에 대한 처리가 포함되어 있습니다. 작성된 클라이언트는 우분투 호스트(203.250.133.88)에 설치된 TFTP서버(tftpd-hpa)와 프로토콜에 따라 동작하여야 합니다. 


2. 구현기능

  2-1. 파일 다운로드(RRQ-Read Request)

    -사용자가 get 명령어를 입력하면, 클라이언트는 서버에 RRQ 메시지를 전송해서 파일 다운로드를 요청합니다.

    -서버에 데이터 블록을 수신하고, 각 데이터 블록에 대해 ACK 메시지를 서버로 전송하여, 서버가 데이터를 정확하게 전송했음을 확인합니다.
   
    -파일의 모든 블록을 받은 후, 클라인언트는 파일 다운로드가 완료되었다고 출력합니다.
   
    -send_rrq() 함수는 서버에 RRQ 메시지를 보내며, 이후 서버가 보내는 DATA패킷을 받아 파일로 저장합니다.
   
    -send_ack() 함수는 서버에서 수신한 데이터 블록에 대해 ACK메시지를 전송하는 역할을 합니다.

  2-2. 파일 업로드(WRQ-Write Request)
  
   -사용자가 put 명령을 입력하면, 클라이언트는 서버에 WRQ 메시지를 전송해서 파일 업로드를 요청합니다.

   -클라이언트는 업로드 파일을 512바이트 크기의 블록으로 읽어, DATA패킷을 생성하여 서버로 전송합니다.
   
   -각 블록에 대해 서버로부터 ACK 메시지를 수신하고, ACK 패킷을 받으면 다음 블록을 전송합니다.

   -서버로부터 ACK를 받지 못하거나 타임아웃이 발생하면 해당 블록을 재전송 합니다.

   -모든 데이터를 전송한 후 파일 업로드가 완료되면 클라언트는 업로드가 완료되었다고 메시지를 출력합니다.
   
   -send_wrq() 함수는 파일 업로드 요청을 서버로 보내는 함수입니다. WRQ 메시지를 서버에 전송합니다.

  2-3. 에러처리
  
   -서버가 전송할 수 없는 파일에 대해 오류가 발생하면, ERROR 패킷을 수신하고, 해당 오류 메시지를 출력합니다. 
   
   -오류가 발생하면 다운로드한 파일을 삭제하고 종료합니다.

  2-4. 전송모드설정

   -TFTP는 여러 전송 모드를 지원하는데, 이 프로그램에서는 기본적으로 'octet' 모드를 사용합니다. 이는 파일 데이터를 바이너리 형식으로 전송하는 방식입니다.

  2-5. UDP 소켓 사용

   -socket.AF_INET과 socket.SOCK_DGRAM을 사용하여 UDP 소켓을 생성합니다. UDP는 비연결형 전송 서비스이므로 TFTP와 같은 프로토콜에 적합합니다.
   
   -UDP를 사용하여 데이터 전송을 처리하며, sock.recvfrom()을 사용하여 서버로부터 데이터를 수신하고, sock.sendto()를 사용하여 데이터를 전송합니다.




3. 사용법
이 기말 프로젝트 TFTP 클라이언트을 사용하는 방법은 아래와 같습니다.(project name:TFTP_project_Client)

파일을 다운로드 하는 방법: 

python TFTP_project_Client.py 203.250.133.88 get tftp.txt

파일을 업로드 하는 방법:  

python TFTP_project_Client.py 203.250.133.88 put tftp.txt

서버 포트가 69번이 아닐 경우에는 –p옵션을 이용해서 포트를 지정하는 방법:  

python TFTP_project_Client.py 203.250.133.88 –p port번호입력[ex)12345] put tftp.txt
